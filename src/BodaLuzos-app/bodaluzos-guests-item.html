<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">

<dom-module id="bodaluzos-guests-item">
  <template>
    <style>
      :host {
        display: block;
        margin-top: 25px !important;
      }
      
      .row {
          background-color: white;
          border-color: lightgrey;
          border-width: thin;
          border-bottom-style: solid;
          padding: 15px 0;
          margin-top: -20px;
          padding-left: 10px;
      }

      .cell {
          display: inline-block;
      }

      iron-list {
          overflow: visible;
          margin-top: 40px;
      }

      .rigth {
          float: right;
          margin-right: 10px;
      }

      .comments {
          margin-left: 10px;
          color: gray;
          font-style: italic;
          font-size: 10px;
      }
    </style>
    <iron-ajax id="updateAjax"></iron-ajax>
    <div class="row">
      <div class="cell">
          <div >
              [[data.firstname]] [[data.lastname]] 
          </div>
          <div class="comments">
              [[data.comments]]
          </div>
      </div>
      <div class="cell rigth">
          <paper-checkbox id="confirmed" on-change="confirm" checked=[[data.confirmed]]>Confirmado</paper-checkbox>
      </div>
      <div class="cell rigth">
          <paper-checkbox id="invited" on-change="invite" checked=[[data.invited]]>Invitado</paper-checkbox>
      </div>
  </div>
  </template>
  <script>
    Polymer({
      is: 'bodaluzos-guests-item',
      properties:{
        data: Object
      },
      invite: function(){
          var operation = "";
          if (this.$.invited.checked){
            operation = 'invite';
          }else{
            operation = 'uninvite';
          }
          this.$.updateAjax.url = 'http://localhost:3000/' + operation + '/' + this.data.id;
          this.$.updateAjax.generateRequest();
      },
      confirm: function(){
          var operation = "";
          if (this.$.confirmed.checked){
            operation = 'confirm';
          }else{
            operation = 'unconfirm';
          }
          this.$.updateAjax.url = 'http://localhost:3000/' + operation + '/' + this.data.id;
          this.$.updateAjax.generateRequest();
      } 
    });
  </script>
</dom-module>
